conver audio files to wav

then write the transcription in the following format
<s> your text with n punctuation </s> (name od audio file containing this text)
eg: <s> there is a place where the sidewalk ends </s> (1)

create a file containing file ids it will look something like this
eg : 
1
2

wav files must have sampling rate 16000 hz and audio channerl should be mono

copy en-us files to the folder
cp -a /usr/local/share/pocketsphinx/model/en-us/en-us .
cp -a /usr/local/share/pocketsphinx/model/en-us/cmudict-en-us.dict .
cp -a /usr/local/share/pocketsphinx/model/en-us/en-us.lm.bin .

generating acousatic feature files
sphinx_fe -argfile en-us/feat.params \
        -samprate 16000 -c sidewalk.fileids \
       -di . -do . -ei wav -eo mfc -mswav yes


cmusphinx-en-us-ptm-5.2 from this folder copy the files which are not present in the folder en-us
Then copy the bw program from the sphinxtrain. It was located in my machine at /usr/local/libexec/sphinxtrain

collect statistics run
./bw \
 -hmmdir en-us \
 -moddeffn en-us/mdef.txt \
 -ts2cbfn .ptm. \
 -feat 1s_c_d_dd \
 -svspec 0-12/13-25/26-38 \
 -cmn current \
 -agc none \
 -dictfn cmudict-en-us.dict \
 -ctlfn arctic.fileids \
 -lsnfn arctic.transcription \
 -accumdir .

 updating the acoustic model with map
 cp -a en-us en-us-adapt
 ./map_adapt \
    -moddeffn en-us/mdef.txt \
    -ts2cbfn .ptm. \
    -meanfn en-us/means \
    -varfn en-us/variances \
    -mixwfn en-us/mixture_weights \
    -tmatfn en-us/transition_matrices \
    -accumdir . \
    -mapmeanfn en-us-adapt/means \
    -mapvarfn en-us-adapt/variances \
    -mapmixwfn en-us-adapt/mixture_weights \
    -maptmatfn en-us-adapt/transition_matrices


to run the new adopted model
pocketsphinx_continuous -hmm en-us-adapt -lm en-us.lm.bin -dict cmudict-en-us.dict -infile test.wav > test.txt

/****************** start **********************/
to build language model
download the CMU-Cambridge Statistical Language Modeling Tookit v2 from 
http://www.speech.cs.cmu.edu/SLM/CMU-Cam_Toolkit_v2.tar.gz

to install the toolkit just follow the instructions in the readme

then add the lines you want to build the language model on and save it in a .txt file in the following format
<s> generally cloudy today with scattered outbreaks of rain and drizzle persistent and heavy at times </s>
<s> some dry intervals also with hazy sunshine especially in eastern parts in the morning </s>
<s> highest temperatures nine to thirteen Celsius in a light or moderate mainly east south east breeze </s>
<s> cloudy damp and misty today with spells of rain and drizzle in most places much of this rain will be 
light and patchy but heavier rain may develop in the west later </s>

to generate vocabulary file
    text2wfreq < weather.txt | wfreq2vocab > weather.tmp.vocab

check all the words present in the text file are also present in the vocab file
if not then you should remove them from the text file as they weill not become part of the language model

weather.closed.txt is the text file after removing those words
weather.vocab is the new file generated by weather.closed.txt

text2idngram -vocab weather.vocab < weather.closed.txt > weather.idngram

idngram2lm -vocab_type 0 -idngram weather.idngram -vocab \
     weather.vocab -arpa weather.lm

your language model is ready

you can convert it to binary by using 
sphinx_lm_convert -i weather.lm -o weather.lm.bin

/************************ end ****************************/

/************************ start ***********************/
The above mentioned was used and was tested for a long time. But the results went form promising to complete disaster. it was only focusing on a few words and the remaining phrases were not detected.

I then shifted towards new language model and dictionary generator. This is the link to it http://www.speech.cs.cmu.edu/tools/lmtool-new.html

The language model created by this was much more accurate and precies for our task
/*********************** end ****************************/

/******** packages required *********/
python packages :
pocketsphinx
vlc
pyaudio
sphinxbase
time
gtts
talkey